<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EEG Sleep Monitor</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
</head>
<body>
    <div class="app-container">
        <!-- Header -->
        <header class="app-header">
            <div class="header-content">
                <div class="app-logo">
                    <i class="fas fa-brain"></i>
                    <h1>EEG Sleep Monitor</h1>
                </div>
                <div class="profile-section">
                    <div class="profile-pic" id="profile-pic">
                        <i class="fas fa-user"></i>
                    </div>
                    <span class="welcome-text">Welcome back</span>
                </div>
            </div>
        </header>

        <!-- Main Dashboard -->
        <main class="main-dashboard">
            <!-- Left Panel - EEG Animation -->
            <div class="left-panel">
                <div class="eeg-section">
                    <div class="section-header">
                        <h2><i class="fas fa-wave-square"></i> Live EEG Waves</h2>
                        <div class="wave-controls">
                            <button class="wave-btn active" data-wave="all">
                                <span class="wave-color all-color"></span>
                                All Waves
                            </button>
                            <button class="wave-btn" data-wave="delta">
                                <span class="wave-color delta-color"></span>
                                Delta
                            </button>
                            <button class="wave-btn" data-wave="theta">
                                <span class="wave-color theta-color"></span>
                                Theta
                            </button>
                            <button class="wave-btn" data-wave="alpha">
                                <span class="wave-color alpha-color"></span>
                                Alpha
                            </button>
                            <button class="wave-btn" data-wave="beta">
                                <span class="wave-color beta-color"></span>
                                Beta
                            </button>
                            <button class="wave-btn" data-wave="gamma">
                                <span class="wave-color gamma-color"></span>
                                Gamma
                            </button>
                        </div>
                    </div>
                    
                    <div class="eeg-display">
                        <canvas id="eeg-canvas" class="eeg-canvas"></canvas>
                        <div class="wave-annotations" id="wave-annotations">
                            <!-- Annotations will be added dynamically -->
                        </div>
                    </div>
                    
                    <div class="timeline-section">
                        <div class="timeline-header">
                            <span class="timeline-label">Timeline</span>
                            <span class="time-display" id="time-display">00:00</span>
                        </div>
                        <div class="timeline-container">
                            <input type="range" id="timeline-slider" class="timeline-slider" min="0" max="100" value="0">
                            <div class="timeline-events" id="timeline-events">
                                <!-- Event markers will be added here -->
                            </div>
                        </div>
                        <div class="playback-controls">
                            <button class="control-btn" id="play-btn">
                                <i class="fas fa-play"></i>
                            </button>
                            <button class="control-btn" id="load-btn">
                                <i class="fas fa-upload"></i>
                                Load Data
                            </button>
                            <button class="control-btn highlight" id="rem-highlight-btn">
                                <i class="fas fa-moon"></i>
                                Highlight REM
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Right Panel - Video & Sleep Info -->
            <div class="right-panel">
                <div class="video-section">
                    <div class="section-header">
                        <h2><i class="fas fa-video"></i> Live Subject</h2>
                        <div class="status-indicator">
                            <span class="status-dot recording"></span>
                            Recording
                        </div>
                    </div>
                    
                    <div class="video-container">
                        <video id="subject-video" class="subject-video" autoplay muted loop>
                            <source src="brain_video_1.mp4" type="video/mp4">
                        </video>
                        <div class="video-overlay">
                            <div class="blink-indicator" id="blink-indicator">
                                <i class="fas fa-eye"></i>
                                <span>Blink detected</span>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="sleep-info-section">
                    <div class="sleep-stage-card">
                        <div class="card-header">
                            <h3><i class="fas fa-moon"></i> Current Sleep Stage</h3>
                        </div>
                        <div class="current-stage">
                            <div class="stage-icon rem-stage">
                                <i class="fas fa-cloud"></i>
                            </div>
                            <div class="stage-info">
                                <h4>REM Sleep</h4>
                                <p>Dreaming & Memory consolidation</p>
                                <div class="stage-timer">Duration: 12:34</div>
                            </div>
                        </div>
                    </div>

                    <div class="sleep-cycle-card">
                        <div class="card-header">
                            <h3><i class="fas fa-chart-line"></i> Sleep Cycle Progress</h3>
                        </div>
                        <div class="cycle-progress">
                            <div class="progress-bar">
                                <div class="progress-fill" style="width: 65%"></div>
                            </div>
                            <div class="cycle-stages">
                                <div class="cycle-stage completed">
                                    <i class="fas fa-circle"></i>
                                    <span>Stage 1</span>
                                </div>
                                <div class="cycle-stage completed">
                                    <i class="fas fa-circle"></i>
                                    <span>Stage 2</span>
                                </div>
                                <div class="cycle-stage completed">
                                    <i class="fas fa-circle"></i>
                                    <span>Stage 3</span>
                                </div>
                                <div class="cycle-stage active">
                                    <i class="fas fa-circle"></i>
                                    <span>REM</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>

        <!-- Bottom Navigation -->
        <nav class="bottom-nav">
            <button class="nav-item active" data-tab="home">
                <i class="fas fa-home"></i>
                <span>Home</span>
            </button>
            <button class="nav-item" data-tab="brain">
                <i class="fas fa-brain"></i>
                <span>Brain Regions</span>
            </button>
            <button class="nav-item" data-tab="sleep">
                <i class="fas fa-bed"></i>
                <span>Sleep Stages</span>
            </button>
            <button class="nav-item" data-tab="reports">
                <i class="fas fa-chart-bar"></i>
                <span>Reports</span>
            </button>
        </nav>

        <!-- Tab Content Panels -->
        <div class="tab-content" id="home-content" style="display: block;">
            <!-- Home content is the main dashboard above -->
        </div>

        <div class="tab-content" id="brain-content">
            <div class="brain-regions-panel">
                <h2><i class="fas fa-brain"></i> Brain Regions Analysis</h2>
                <div class="regions-grid">
                    <div class="region-card frontal-region">
                        <div class="region-header">
                            <i class="fas fa-lightbulb"></i>
                            <h3>Frontal Lobe</h3>
                        </div>
                        <div class="region-chart">
                            <canvas id="frontal-chart" class="region-chart-canvas"></canvas>
                        </div>
                        <p class="region-description">Decision-making & Blinking control</p>
                        <div class="region-metrics">
                            <div class="metric">
                                <span>Activity:</span>
                                <span class="metric-value">75%</span>
                            </div>
                            <div class="metric">
                                <span>Dominant:</span>
                                <span class="metric-value">Beta waves</span>
                            </div>
                        </div>
                    </div>

                    <div class="region-card parietal-region">
                        <div class="region-header">
                            <i class="fas fa-hand-paper"></i>
                            <h3>Parietal Lobe</h3>
                        </div>
                        <div class="region-chart">
                            <canvas id="parietal-chart" class="region-chart-canvas"></canvas>
                        </div>
                        <p class="region-description">Touch & Spatial sense</p>
                        <div class="region-metrics">
                            <div class="metric">
                                <span>Activity:</span>
                                <span class="metric-value">62%</span>
                            </div>
                            <div class="metric">
                                <span>Dominant:</span>
                                <span class="metric-value">Alpha waves</span>
                            </div>
                        </div>
                    </div>

                    <div class="region-card temporal-region">
                        <div class="region-header">
                            <i class="fas fa-music"></i>
                            <h3>Temporal Lobe</h3>
                        </div>
                        <div class="region-chart">
                            <canvas id="temporal-chart" class="region-chart-canvas"></canvas>
                        </div>
                        <p class="region-description">Memory & Sound processing</p>
                        <div class="region-metrics">
                            <div class="metric">
                                <span>Activity:</span>
                                <span class="metric-value">58%</span>
                            </div>
                            <div class="metric">
                                <span>Dominant:</span>
                                <span class="metric-value">Theta waves</span>
                            </div>
                        </div>
                    </div>

                    <div class="region-card occipital-region">
                        <div class="region-header">
                            <i class="fas fa-eye"></i>
                            <h3>Occipital Lobe</h3>
                        </div>
                        <div class="region-chart">
                            <canvas id="occipital-chart" class="region-chart-canvas"></canvas>
                        </div>
                        <p class="region-description">Visual processing</p>
                        <div class="region-metrics">
                            <div class="metric">
                                <span>Activity:</span>
                                <span class="metric-value">84%</span>
                            </div>
                            <div class="metric">
                                <span>Dominant:</span>
                                <span class="metric-value">Gamma waves</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="tab-content" id="sleep-content">
            <div class="sleep-stages-panel">
                <h2><i class="fas fa-bed"></i> Sleep Stages Monitor</h2>
                <div class="sleep-stages-grid">
                    <div class="sleep-stage-card nrem1-stage">
                        <div class="stage-icon">
                            <i class="fas fa-eye-slash"></i>
                        </div>
                        <h3>NREM Stage 1</h3>
                        <p>Light sleep, drowsiness</p>
                        <div class="stage-waveform">
                            <canvas id="nrem1-wave" class="stage-wave-canvas"></canvas>
                        </div>
                        <div class="stage-duration">Duration: 5-10 min</div>
                    </div>

                    <div class="sleep-stage-card nrem2-stage">
                        <div class="stage-icon">
                            <i class="fas fa-moon"></i>
                        </div>
                        <h3>NREM Stage 2</h3>
                        <p>True sleep begins</p>
                        <div class="stage-waveform">
                            <canvas id="nrem2-wave" class="stage-wave-canvas"></canvas>
                        </div>
                        <div class="stage-duration">Duration: 45% of sleep</div>
                    </div>

                    <div class="sleep-stage-card nrem3-stage">
                        <div class="stage-icon">
                            <i class="fas fa-bed"></i>
                        </div>
                        <h3>NREM Stage 3</h3>
                        <p>Deep sleep, restoration</p>
                        <div class="stage-waveform">
                            <canvas id="nrem3-wave" class="stage-wave-canvas"></canvas>
                        </div>
                        <div class="stage-duration">Duration: 15-20% of sleep</div>
                    </div>

                    <div class="sleep-stage-card rem-stage active">
                        <div class="stage-icon">
                            <i class="fas fa-cloud"></i>
                        </div>
                        <h3>REM Sleep</h3>
                        <p>Dreaming & memory consolidation</p>
                        <div class="stage-waveform">
                            <canvas id="rem-wave" class="stage-wave-canvas"></canvas>
                        </div>
                        <div class="stage-duration">Duration: 20-25% of sleep</div>
                    </div>
                </div>
            </div>
        </div>

        <div class="tab-content" id="reports-content">
            <div class="reports-panel">
                <h2><i class="fas fa-chart-bar"></i> Analysis Reports</h2>
                <div class="reports-grid">
                    <div class="report-card">
                        <h3>Sleep Quality Score</h3>
                        <div class="score-display">
                            <div class="score-number">87</div>
                            <div class="score-label">Excellent</div>
                        </div>
                    </div>
                    
                    <div class="report-card">
                        <h3>REM Efficiency</h3>
                        <div class="efficiency-chart">
                            <canvas id="efficiency-chart"></canvas>
                        </div>
                    </div>
                    
                    <div class="report-card annotations-card">
                        <h3>Event Annotations</h3>
                        <div class="annotations-list" id="annotations-list">
                            <div class="annotation-item blink-annotation">
                                <span class="annotation-time">00:03</span>
                                <span class="annotation-text">Blink detected â€” Frontal spike</span>
                                <span class="annotation-type">Blink</span>
                            </div>
                            <div class="annotation-item rem-annotation">
                                <span class="annotation-time">00:45</span>
                                <span class="annotation-text">REM sleep starts here</span>
                                <span class="annotation-type">REM Start</span>
                            </div>
                            <div class="annotation-item alpha-annotation">
                                <span class="annotation-time">01:23</span>
                                <span class="annotation-text">Strong alpha wave activity</span>
                                <span class="annotation-type">Alpha Peak</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Tooltips -->
        <div class="tooltip" id="spike-tooltip">
            <div class="tooltip-content">
                <h4>Blink detected</h4>
                <p>Frontal cortex activity spike</p>
                <span class="tooltip-time">00:03.2s</span>
            </div>
        </div>
    </div>

    <script type="module" src="main.js"></script>
</body>
</html>
